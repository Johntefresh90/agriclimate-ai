<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Livestock Advisory - Agriclimate Connect</title>
    <link href="https://cdn.tailwindcss.com/3.4.0" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#22c55e',
                        secondary: '#15803d',
                        accent: '#84cc16',
                        earth: '#a3a3a3',
                        sky: '#0ea5e9',
                        warning: '#f59e0b',
                        danger: '#ef4444'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        .climate-gradient {
            background: linear-gradient(135deg, #22c55e 0%, #15803d 50%, #84cc16 100%);
        }
        .livestock-card {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .livestock-card:hover {
            transform: translateY(-5px);
            border-color: #22c55e;
            box-shadow: 0 10px 25px rgba(34, 197, 94, 0.2);
        }
        .livestock-card.selected {
            border-color: #22c55e;
            background: linear-gradient(145deg, #f0fdf4, #dcfce7);
        }
        .health-indicator {
            animation: pulse 2s infinite;
        }
        .loading-dots {
            display: inline-block;
        }
        .loading-dots::after {
            content: '';
            animation: dots 1.5s infinite;
        }
        @keyframes dots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }
        .floating-widget {
            position: fixed;
            bottom: 100px;
            right: 20px;
            z-index: 1000;
        }
        .ai-thinking {
            background: linear-gradient(90deg, #e5e7eb, #f3f4f6, #e5e7eb);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: white;
            min-width: 200px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1000;
            border-radius: 8px;
            padding: 10px 0;
        }
        .dropdown:hover .dropdown-content {
            display: block;
        }
        .mobile-menu {
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
        }
        .mobile-menu.active {
            transform: translateX(0);
        }
        .feed-calculator {
            background: linear-gradient(135deg, #fef3c7, #fbbf24);
        }
        .health-monitor {
            background: linear-gradient(135deg, #dbeafe, #3b82f6);
        }
        .breeding-planner {
            background: linear-gradient(135deg, #f3e8ff, #8b5cf6);
        }
    </style>
</head>
<body class="font-sans bg-gray-50 dark:bg-gray-900 transition-colors duration-300">
    <!-- Navigation Header -->
    <nav class="bg-white dark:bg-gray-800 shadow-lg sticky top-0 z-50 transition-colors duration-300">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 climate-gradient rounded-full flex items-center justify-center">
                        <i class="fas fa-seedling text-white text-lg"></i>
                    </div>
                    <span class="text-2xl font-bold text-gray-800 dark:text-white">Agriclimate Connect</span>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden lg:flex items-center space-x-8">
                    <a href="index.html" class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors">Home</a>
                    
                    <!-- Features Dropdown -->
                    <div class="dropdown relative">
                        <button class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors flex items-center">
                            Features <i class="fas fa-chevron-down ml-1"></i>
                        </button>
                        <div class="dropdown-content dark:bg-gray-700">
                            <a href="weather.html" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Weather & Climate</a>
                            <a href="crop-advisory.html" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Crop Advisory</a>
                            <a href="#" class="block px-4 py-2 text-primary font-semibold hover:bg-primary hover:text-white">Livestock Advisory</a>
                            <a href="#" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Market Hub</a>
                            <a href="#" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">AI Assistant</a>
                        </div>
                    </div>

                    <!-- Services Dropdown -->
                    <div class="dropdown relative">
                        <button class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors flex items-center">
                            Services <i class="fas fa-chevron-down ml-1"></i>
                        </button>
                        <div class="dropdown-content dark:bg-gray-700">
                            <a href="#feed-optimization" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Feed Optimization</a>
                            <a href="#health-monitoring" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Health Monitoring</a>
                            <a href="#breeding-management" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Breeding Management</a>
                            <a href="#market-intelligence" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Market Intelligence</a>
                        </div>
                    </div>

                    <!-- Community Dropdown -->
                    <div class="dropdown relative">
                        <button class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors flex items-center">
                            Community <i class="fas fa-chevron-down ml-1"></i>
                        </button>
                        <div class="dropdown-content dark:bg-gray-700">
                            <a href="#forum" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Discussion Forum</a>
                            <a href="#experts" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Ask Experts</a>
                            <a href="#success-stories" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Success Stories</a>
                            <a href="#mentorship" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Mentorship</a>
                        </div>
                    </div>

                    <!-- Resources Dropdown -->
                    <div class="dropdown relative">
                        <button class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors flex items-center">
                            Resources <i class="fas fa-chevron-down ml-1"></i>
                        </button>
                        <div class="dropdown-content dark:bg-gray-700">
                            <a href="#knowledge" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Knowledge Center</a>
                            <a href="#training" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Training Programs</a>
                            <a href="#downloads" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Downloads</a>
                            <a href="#funding" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-primary hover:text-white">Funding & Grants</a>
                        </div>
                    </div>

                    <a href="#about" class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors">About</a>
                    <a href="#contact" class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors">Contact</a>
                </div>

                <!-- Search Bar -->
                <div class="hidden md:flex items-center">
                    <div class="relative">
                        <input type="text" id="siteSearch" placeholder="Search livestock advice..." class="w-64 px-4 py-2 rounded-full border border-gray-300 dark:border-gray-600 focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white text-base">
                        <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
                    </div>
                </div>

                <!-- Auth Buttons -->
                <div class="hidden lg:flex items-center space-x-4">
                    <button class="text-gray-700 dark:text-gray-300 hover:text-primary transition-colors">Login</button>
                    <button class="bg-primary text-white px-6 py-2 rounded-full hover:bg-secondary transition-colors">Register</button>
                </div>

                <!-- Mobile Menu Button -->
                <button id="mobileMenuButton" class="lg:hidden text-gray-700 dark:text-gray-300">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobileMenu" class="mobile-menu lg:hidden fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg">
            <div class="p-4">
                <div class="flex justify-between items-center mb-6">
                    <span class="text-xl font-bold text-gray-800 dark:text-white">Menu</span>
                    <button id="closeMobileMenu" class="text-gray-500 dark:text-gray-400">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <nav class="space-y-4">
                    <a href="index.html" class="block text-gray-700 dark:text-gray-300 hover:text-primary transition-colors">Home</a>
                    <div class="space-y-2">
                        <button class="w-full text-left text-gray-700 dark:text-gray-300 hover:text-primary transition-colors mobile-dropdown-toggle">
                            Features <i class="fas fa-chevron-down float-right mt-1"></i>
                        </button>
                        <div class="mobile-dropdown-content pl-4 space-y-2 hidden">
                            <a href="weather.html" class="block text-gray-600 dark:text-gray-400 hover:text-primary">Weather & Climate</a>
                            <a href="crop-advisory.html" class="block text-gray-600 dark:text-gray-400 hover:text-primary">Crop Advisory</a>
                            <a href="#" class="block text-primary font-semibold">Livestock Advisory</a>
                            <a href="#" class="block text-gray-600 dark:text-gray-400 hover:text-primary">Market Hub</a>
                        </div>
                    </div>
                    <a href="#community" class="block text-gray-700 dark:text-gray-300 hover:text-primary transition-colors">Community</a>
                    <a href="#resources" class="block text-gray-700 dark:text-gray-300 hover:text-primary transition-colors">Resources</a>
                    <a href="#about" class="block text-gray-700 dark:text-gray-300 hover:text-primary transition-colors">About</a>
                    <a href="#contact" class="block text-gray-700 dark:text-gray-300 hover:text-primary transition-colors">Contact</a>
                </nav>
                <div class="mt-6 space-y-3">
                    <button class="w-full text-left text-gray-700 dark:text-gray-300 hover:text-primary transition-colors">Login</button>
                    <button class="w-full bg-primary text-white py-2 rounded-full hover:bg-secondary transition-colors">Register</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="climate-gradient text-white py-12">
        <div class="container mx-auto px-4">
            <div class="text-center">
                <h1 class="text-4xl lg:text-5xl font-bold mb-4">
                    <i class="fas fa-cow mr-3"></i>Smart Livestock Advisory
                </h1>
                <p class="text-xl opacity-90 mb-6">AI-powered guidance for optimal livestock management, breeding, and health monitoring</p>
                <div class="flex justify-center items-center space-x-6">
                    <div class="text-center">
                        <div class="text-2xl font-bold">50+</div>
                        <div class="text-sm opacity-75">Animal Breeds</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold">98%</div>
                        <div class="text-sm opacity-75">Health Accuracy</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold">24/7</div>
                        <div class="text-sm opacity-75">AI Monitoring</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quick Livestock Setup -->
    <section class="py-8 -mt-6">
        <div class="container mx-auto px-4">
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 mb-8">
                <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6">
                    <i class="fas fa-cog text-primary mr-2"></i>Livestock Profile Setup
                </h2>
                <div class="grid md:grid-cols-4 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Primary Livestock</label>
                        <select id="primaryLivestock" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white text-base">
                            <option value="">Select primary livestock</option>
                            <option value="cattle">Dairy Cattle</option>
                            <option value="beef">Beef Cattle</option>
                            <option value="goats">Goats</option>
                            <option value="sheep">Sheep</option>
                            <option value="poultry">Poultry</option>
                            <option value="pigs">Pigs</option>
                            <option value="fish">Fish/Aquaculture</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Herd Size</label>
                        <select id="herdSize" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white text-base">
                            <option value="">Select herd size</option>
                            <option value="small">Small (1-10 animals)</option>
                            <option value="medium">Medium (11-50 animals)</option>
                            <option value="large">Large (51-200 animals)</option>
                            <option value="commercial">Commercial (200+ animals)</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Farming System</label>
                        <select id="farmingSystem" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white text-base">
                            <option value="">Select farming system</option>
                            <option value="intensive">Intensive</option>
                            <option value="semi-intensive">Semi-Intensive</option>
                            <option value="extensive">Extensive/Pastoral</option>
                            <option value="mixed">Mixed Farming</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Experience Level</label>
                        <select id="livestockExperience" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white text-base">
                            <option value="">Select experience</option>
                            <option value="beginner">Beginner (0-2 years)</option>
                            <option value="intermediate">Intermediate (3-5 years)</option>
                            <option value="expert">Expert (5+ years)</option>
                        </select>
                    </div>
                </div>
                <button id="updateLivestockProfile" class="mt-6 bg-primary text-white px-8 py-3 rounded-lg hover:bg-secondary transition-colors">
                    <i class="fas fa-save mr-2"></i>Update Profile & Get Recommendations
                </button>
            </div>
        </div>
    </section>

    <!-- AI-Powered Livestock Recommendations -->
    <section class="py-8">
        <div class="container mx-auto px-4">
            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Recommended Breeds -->
                <div class="lg:col-span-2">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-800 dark:text-white">
                                <i class="fas fa-star text-yellow-500 mr-2"></i>Recommended Breeds
                            </h2>
                            <div class="health-indicator bg-green-500 text-white px-3 py-1 rounded-full text-sm">
                                Climate Adapted
                            </div>
                        </div>
                        
                        <div id="livestockRecommendations" class="grid md:grid-cols-2 gap-6">
                            <!-- Livestock recommendations will be populated here -->
                        </div>
                    </div>

                    <!-- Management Calendar -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-6">
                            <i class="fas fa-calendar-alt text-primary mr-2"></i>Livestock Management Calendar
                        </h3>
                        <div id="managementCalendar" class="space-y-4">
                            <!-- Calendar will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- AI Livestock Advisor Chat -->
                <div class="space-y-6">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center mr-3">
                                <i class="fas fa-robot text-white text-xl"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-bold text-gray-800 dark:text-white">AI Livestock Advisor</h3>
                                <p class="text-sm text-gray-600 dark:text-gray-300">Expert in animal husbandry!</p>
                            </div>
                        </div>
                        
                        <div id="chatContainer" class="h-96 overflow-y-auto mb-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                            <div id="chatMessages" class="space-y-4">
                                <div class="flex items-start space-x-3">
                                    <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                                        <i class="fas fa-robot text-white text-sm"></i>
                                    </div>
                                    <div class="bg-white dark:bg-gray-600 p-3 rounded-lg max-w-xs">
                                        <p class="text-gray-800 dark:text-white text-sm">Hello! I'm your AI livestock advisor with expertise in animal health, breeding, nutrition, and management. I can help you optimize your livestock operations for better productivity and profitability. What livestock questions can I help you with today?</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex space-x-2">
                            <input type="text" id="chatInput" placeholder="Ask about animal health, feeding, breeding..." 
                                   class="flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white text-base">
                            <button id="sendMessage" class="bg-primary text-white px-6 py-3 rounded-lg hover:bg-secondary transition-colors">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        
                        <div class="mt-3 flex flex-wrap gap-2">
                            <button class="quick-question bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-1 rounded-full text-sm hover:bg-primary hover:text-white transition-colors">
                                Best breeds for my climate?
                            </button>
                            <button class="quick-question bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-1 rounded-full text-sm hover:bg-primary hover:text-white transition-colors">
                                Feed optimization tips?
                            </button>
                            <button class="quick-question bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-1 rounded-full text-sm hover:bg-primary hover:text-white transition-colors">
                                Disease prevention?
                            </button>
                        </div>
                    </div>

                    <!-- Quick Tools -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                        <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">
                            <i class="fas fa-tools text-primary mr-2"></i>Livestock Tools
                        </h3>
                        <div class="space-y-3">
                            <button id="feedCalculator" class="w-full feed-calculator text-amber-800 p-3 rounded-lg hover:opacity-80 transition-colors text-left">
                                <i class="fas fa-calculator mr-2"></i>Feed Calculator
                            </button>
                            <button id="healthMonitor" class="w-full health-monitor text-blue-800 p-3 rounded-lg hover:opacity-80 transition-colors text-left">
                                <i class="fas fa-heartbeat mr-2"></i>Health Monitor
                            </button>
                            <button id="breedingPlanner" class="w-full breeding-planner text-purple-800 p-3 rounded-lg hover:opacity-80 transition-colors text-left">
                                <i class="fas fa-dna mr-2"></i>Breeding Planner
                            </button>
                            <button id="marketPrices" class="w-full bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 p-3 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors text-left">
                                <i class="fas fa-chart-line mr-2"></i>Market Prices
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Livestock Management Features -->
    <section class="py-8 bg-white dark:bg-gray-800">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-8 text-center">
                <i class="fas fa-clipboard-list text-primary mr-2"></i>Comprehensive Livestock Management
            </h2>
            
            <div class="grid lg:grid-cols-4 gap-6">
                <!-- Feed Optimization -->
                <div id="feed-optimization" class="bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-xl p-6">
                    <div class="w-16 h-16 bg-yellow-500 rounded-xl flex items-center justify-center mb-4 mx-auto">
                        <i class="fas fa-wheat-awn text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-4 text-center">Feed Optimization</h3>
                    <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-300 mb-6">
                        <li><i class="fas fa-check text-primary mr-2"></i>Nutritional analysis</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Cost optimization</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Seasonal feed planning</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Local feed sourcing</li>
                    </ul>
                    <button class="w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 transition-colors">
                        Optimize Feed
                    </button>
                </div>

                <!-- Health Monitoring -->
                <div id="health-monitoring" class="bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 rounded-xl p-6">
                    <div class="w-16 h-16 bg-red-500 rounded-xl flex items-center justify-center mb-4 mx-auto">
                        <i class="fas fa-stethoscope text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-4 text-center">Health Monitoring</h3>
                    <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-300 mb-6">
                        <li><i class="fas fa-check text-primary mr-2"></i>Disease prediction</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Vaccination schedules</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Health records</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Emergency alerts</li>
                    </ul>
                    <button class="w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors">
                        Monitor Health
                    </button>
                </div>

                <!-- Breeding Management -->
                <div id="breeding-management" class="bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-xl p-6">
                    <div class="w-16 h-16 bg-purple-500 rounded-xl flex items-center justify-center mb-4 mx-auto">
                        <i class="fas fa-dna text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-4 text-center">Breeding Management</h3>
                    <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-300 mb-6">
                        <li><i class="fas fa-check text-primary mr-2"></i>Genetic optimization</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Breeding cycles</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Pregnancy tracking</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Lineage records</li>
                    </ul>
                    <button class="w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors">
                        Plan Breeding
                    </button>
                </div>

                <!-- Market Intelligence -->
                <div id="market-intelligence" class="bg-gradient-to-br from-green-50 to-teal-50 dark:from-green-900/20 dark:to-teal-900/20 rounded-xl p-6">
                    <div class="w-16 h-16 bg-green-500 rounded-xl flex items-center justify-center mb-4 mx-auto">
                        <i class="fas fa-chart-line text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-4 text-center">Market Intelligence</h3>
                    <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-300 mb-6">
                        <li><i class="fas fa-check text-primary mr-2"></i>Price forecasting</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Demand analysis</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Market timing</li>
                        <li><i class="fas fa-check text-primary mr-2"></i>Buyer connections</li>
                    </ul>
                    <button class="w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors">
                        View Markets
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Livestock Database -->
    <section class="py-8 bg-gray-50 dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800 dark:text-white">
                    <i class="fas fa-database text-primary mr-2"></i>Livestock Breeds Database
                </h2>
                <div class="flex space-x-4">
                    <select id="animalCategory" class="px-4 py-2 bg-white dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg border border-gray-300 dark:border-gray-600">
                        <option value="">All Animals</option>
                        <option value="cattle">Cattle</option>
                        <option value="goats">Goats</option>
                        <option value="sheep">Sheep</option>
                        <option value="poultry">Poultry</option>
                        <option value="pigs">Pigs</option>
                        <option value="fish">Fish</option>
                    </select>
                    <input type="text" id="breedSearch" placeholder="Search breeds..." 
                           class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white text-base">
                </div>
            </div>
            
            <div id="livestockDatabase" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Livestock cards will be populated here -->
            </div>
        </div>
    </section>

    <!-- Performance Analytics -->
    <section class="py-8 bg-white dark:bg-gray-800">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-8">
                <i class="fas fa-chart-bar text-primary mr-2"></i>Performance Analytics
            </h2>
            
            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Production Trends -->
                <div class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">Production Trends (12 Months)</h3>
                    <canvas id="productionChart" class="w-full h-64"></canvas>
                </div>
                
                <!-- Feed Efficiency -->
                <div class="bg-gray-50 dark:bg-gray-700 rounded-xl p-6">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">Feed Conversion Efficiency</h3>
                    <canvas id="feedEfficiencyChart" class="w-full h-64"></canvas>
                </div>
            </div>
            
            <!-- Health & Performance Metrics -->
            <div class="mt-8 grid md:grid-cols-4 gap-6">
                <div class="bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-6 rounded-xl text-center">
                    <div class="text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2">98.5%</div>
                    <div class="text-sm text-gray-600 dark:text-gray-300">Animal Health Score</div>
                </div>
                <div class="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-6 rounded-xl text-center">
                    <div class="text-3xl font-bold text-green-600 dark:text-green-400 mb-2">2.8:1</div>
                    <div class="text-sm text-gray-600 dark:text-gray-300">Feed Conversion Ratio</div>
                </div>
                <div class="bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 p-6 rounded-xl text-center">
                    <div class="text-3xl font-bold text-yellow-600 dark:text-yellow-400 mb-2">15%</div>
                    <div class="text-sm text-gray-600 dark:text-gray-300">Productivity Increase</div>
                </div>
                <div class="bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-6 rounded-xl text-center">
                    <div class="text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2">95%</div>
                    <div class="text-sm text-gray-600 dark:text-gray-300">Breeding Success Rate</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Success Stories -->
    <section id="success-stories" class="py-8 bg-gray-50 dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-8">
                <i class="fas fa-trophy text-primary mr-2"></i>Livestock Success Stories
            </h2>
            
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg">
                    <div class="flex items-center mb-4">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 48 48'%3E%3Ccircle cx='24' cy='24' r='24' fill='%2322c55e'/%3E%3Ctext x='24' y='30' text-anchor='middle' fill='white' font-size='16' font-family='Arial'%3EMK%3C/text%3E%3C/svg%3E" alt="Moses Kiptoo" class="w-12 h-12 rounded-full mr-3">
                        <div>
                            <h4 class="font-semibold text-gray-800 dark:text-white">Moses Kiptoo</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-300">Dairy Farmer, Kenya</p>
                        </div>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">"AI feed optimization increased my milk production by 40% while reducing feed costs by 25%. The health monitoring prevented a major disease outbreak!"</p>
                    <div class="flex items-center text-yellow-500">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                        <span class="ml-2 text-sm text-gray-600 dark:text-gray-300">+40% milk yield</span>
                    </div>
                </div>
                
                <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg">
                    <div class="flex items-center mb-4">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 48 48'%3E%3Ccircle cx='24' cy='24' r='24' fill='%2315803d'/%3E%3Ctext x='24' y='30' text-anchor='middle' fill='white' font-size='16' font-family='Arial'%3EAO%3C/text%3E%3C/svg%3E" alt="Amina Okafor" class="w-12 h-12 rounded-full mr-3">
                        <div>
                            <h4 class="font-semibold text-gray-800 dark:text-white">Amina Okafor</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-300">Poultry Farmer, Nigeria</p>
                        </div>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">"The breeding planner helped me select the right chicken breeds for my climate. Egg production doubled in just 6 months with better market timing!"</p>
                    <div class="flex items-center text-yellow-500">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                        <span class="ml-2 text-sm text-gray-600 dark:text-gray-300">+100% eggs</span>
                    </div>
                </div>
                
                <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg">
                    <div class="flex items-center mb-4">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 48 48'%3E%3Ccircle cx='24' cy='24' r='24' fill='%2384cc16'/%3E%3Ctext x='24' y='30' text-anchor='middle' fill='white' font-size='16' font-family='Arial'%3EKA%3C/text%3E%3C/svg%3E" alt="Kwame Asante" class="w-12 h-12 rounded-full mr-3">
                        <div>
                            <h4 class="font-semibold text-gray-800 dark:text-white">Kwame Asante</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-300">Goat Farmer, Ghana</p>
                        </div>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">"Market intelligence guided my selling decisions perfectly. I sold my goats at peak prices and invested in drought-resistant breeds. Profits up 80%!"</p>
                    <div class="flex items-center text-yellow-500">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                        <span class="ml-2 text-sm text-gray-600 dark:text-gray-300">+80% profit</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center space-x-3 mb-4 md:mb-0">
                    <div class="w-8 h-8 climate-gradient rounded-full flex items-center justify-center">
                        <i class="fas fa-seedling text-white text-sm"></i>
                    </div>
                    <span class="text-lg font-bold">Agriclimate Connect</span>
                </div>
                <div class="text-sm text-gray-300">
                    AI-powered livestock advisory | Trusted by 25,000+ livestock farmers worldwide
                </div>
            </div>
        </div>
    </footer>

    <!-- Floating Quick Actions -->
    <div class="floating-widget">
        <div class="bg-white dark:bg-gray-800 rounded-full shadow-lg p-3 mb-3">
            <button id="quickHealthCheck" class="w-12 h-12 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors">
                <i class="fas fa-heartbeat"></i>
            </button>
        </div>
        <div class="bg-white dark:bg-gray-800 rounded-full shadow-lg p-3">
            <button id="quickFeedAdvice" class="w-12 h-12 bg-primary text-white rounded-full hover:bg-secondary transition-colors">
                <i class="fas fa-wheat-awn"></i>
            </button>
        </div>
    </div>

    <script>
        // Livestock database with comprehensive information
        const livestockDatabase = [
            {
                id: 1,
                name: 'Friesian Dairy Cow',
                category: 'cattle',
                type: 'dairy',
                climateAdaptation: 'Moderate',
                icon: '🐄',
                milkProduction: '25-35 liters/day',
                maturityAge: '18-24 months',
                managementLevel: 'intensive',
                feedRequirement: 'High quality fodder',
                initialCost: '$800-1200',
                description: 'High-yielding dairy breed ideal for commercial milk production.'
            },
            {
                id: 2,
                name: 'Sahiwal Cattle',
                category: 'cattle',
                type: 'dairy',
                climateAdaptation: 'High',
                icon: '🐄',
                milkProduction: '15-20 liters/day',
                maturityAge: '18-24 months',
                managementLevel: 'semi-intensive',
                feedRequirement: 'Medium quality fodder',
                initialCost: '$600-900',
                description: 'Heat-tolerant dairy breed perfect for tropical climates.'
            },
            {
                id: 3,
                name: 'Boer Goats',
                category: 'goats',
                type: 'meat',
                climateAdaptation: 'Very High',
                icon: '🐐',
                milkProduction: 'N/A',
                maturityAge: '6-8 months',
                managementLevel: 'extensive',
                feedRequirement: 'Browse and grass',
                initialCost: '$150-300',
                description: 'Fast-growing meat goats with excellent disease resistance.'
            },
            {
                id: 4,
                name: 'Kalahari Red Goats',
                category: 'goats',
                type: 'meat',
                climateAdaptation: 'Very High',
                icon: '🐐',
                milkProduction: 'N/A',
                maturityAge: '6-8 months',
                managementLevel: 'extensive',
                feedRequirement: 'Browse and grass',
                initialCost: '$200-400',
                description: 'Drought-resistant meat goats ideal for arid regions.'
            },
            {
                id: 5,
                name: 'Dorper Sheep',
                category: 'sheep',
                type: 'meat',
                climateAdaptation: 'Very High',
                icon: '🐑',
                milkProduction: 'N/A',
                maturityAge: '6-8 months',
                managementLevel: 'extensive',
                feedRequirement: 'Grass and browse',
                initialCost: '$100-250',
                description: 'Hardy meat sheep that shed their wool naturally.'
            },
            {
                id: 6,
                name: 'Kuroiler Chicken',
                category: 'poultry',
                type: 'dual-purpose',
                climateAdaptation: 'High',
                icon: '🐔',
                milkProduction: '150-200 eggs/year',
                maturityAge: '5-6 months',
                managementLevel: 'semi-intensive',
                feedRequirement: 'Balanced feed + foraging',
                initialCost: '$5-10',
                description: 'Dual-purpose breed excellent for both eggs and meat production.'
            },
            {
                id: 7,
                name: 'Large White Pigs',
                category: 'pigs',
                type: 'meat',
                climateAdaptation: 'Moderate',
                icon: '🐷',
                milkProduction: 'N/A',
                maturityAge: '6-8 months',
                managementLevel: 'intensive',
                feedRequirement: 'High protein feed',
                initialCost: '$100-200',
                description: 'Fast-growing pigs with excellent feed conversion efficiency.'
            },
            {
                id: 8,
                name: 'Tilapia Fish',
                category: 'fish',
                type: 'aquaculture',
                climateAdaptation: 'High',
                icon: '🐟',
                milkProduction: 'N/A',
                maturityAge: '4-6 months',
                managementLevel: 'intensive',
                feedRequirement: 'Fish feed pellets',
                initialCost: '$0.50-1',
                description: 'Fast-growing freshwater fish ideal for aquaculture systems.'
            }
        ];

        // Farm profile and conversation management
        let livestockProfile = {
            primaryLivestock: '',
            herdSize: '',
            farmingSystem: '',
            experience: ''
        };
        let conversationHistory = [];
        let isAIResponding = false;

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initializeDarkMode();
            loadLivestockRecommendations();
            populateLivestockDatabase();
            generateManagementCalendar();
            generateCharts();
            setupEventListeners();
            initializePoeAPI();
        });

        // Dark mode initialization
        function initializeDarkMode() {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.classList.add('dark');
            }
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
                if (event.matches) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            });
        }

        // Initialize Poe API for AI responses
        function initializePoeAPI() {
            if (window.Poe && window.Poe.registerHandler) {
                window.Poe.registerHandler('livestock-advisor-handler', handleAIResponse);
            }
        }

        // Handle AI responses from Poe
        function handleAIResponse(result, context) {
            const messages = result.responses;
            if (messages && messages.length > 0) {
                const aiMessage = messages[0];
                
                if (aiMessage.status === 'incomplete') {
                    updateAIMessage(aiMessage.content);
                } else if (aiMessage.status === 'complete') {
                    finalizeAIMessage(aiMessage.content);
                    isAIResponding = false;
                } else if (aiMessage.status === 'error') {
                    showAIError();
                    isAIResponding = false;
                }
            }
        }

        // Send message to AI using Poe API
        async function sendToAI(userMessage) {
            if (isAIResponding) return;
            
            isAIResponding = true;
            addChatMessage(userMessage, true);
            showAIThinking();
            
            const contextPrompt = buildLivestockAIPrompt(userMessage);
            
            try {
                if (window.Poe && window.Poe.sendUserMessage) {
                    await window.Poe.sendUserMessage(contextPrompt, {
                        handler: 'livestock-advisor-handler',
                        stream: true,
                        openChat: false
                    });
                } else {
                    // Fallback to local AI simulation
                    setTimeout(() => {
                        const response = getLocalLivestockAIResponse(userMessage);
                        finalizeAIMessage(response);
                        isAIResponding = false;
                    }, 1500);
                }
            } catch (error) {
                console.error('AI API error:', error);
                showAIError();
                isAIResponding = false;
            }
        }

        // Build livestock-specific AI prompt
        function buildLivestockAIPrompt(userMessage) {
            const farmInfo = `Livestock Profile: Primary: ${livestockProfile.primaryLivestock || 'Not specified'}, Herd Size: ${livestockProfile.herdSize || 'Not specified'}, System: ${livestockProfile.farmingSystem || 'Not specified'}, Experience: ${livestockProfile.experience || 'Not specified'}`;
            
            const conversationContext = conversationHistory.length > 0 ? 
                `Previous conversation: ${conversationHistory.slice(-3).map(msg => `${msg.type}: ${msg.content}`).join(' | ')}` : 
                '';
            
            const systemPrompt = `You are a leading livestock and animal husbandry expert with deep knowledge in:
- Animal breeding, genetics, and reproduction
- Animal nutrition and feed optimization
- Livestock health, disease prevention, and treatment
- Pasture management and grazing systems
- Dairy and meat production optimization
- Climate-smart livestock management
- Market analysis for livestock products

Guidelines:
- For greetings, respond warmly as a livestock expert ready to help
- Provide specific, actionable advice with exact quantities, timelines, and methods
- Consider climate adaptation and sustainability
- Include cost-benefit analysis when relevant
- Address animal welfare and ethical practices
- Provide breed-specific recommendations
- Consider local market conditions

${farmInfo}
${conversationContext}

Farmer's question: ${userMessage}

Provide expert livestock management advice:`;

            return `@Claude-Sonnet-4 ${systemPrompt}`;
        }

        // Local AI response fallback for livestock
        function getLocalLivestockAIResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Greetings
            if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('good morning') || lowerMessage.includes('good afternoon') || lowerMessage.includes('greetings')) {
                return "Hello! I'm your AI livestock advisor with expertise in animal husbandry, breeding, nutrition, and health management. I'm here to help you optimize your livestock operations for better productivity, animal welfare, and profitability. Whether you need advice on breeds, feeding, health management, or market strategies, I'm ready to assist. What livestock challenge can I help you with today?";
            }
            
            // Breed recommendations
            if (lowerMessage.includes('best breed') || lowerMessage.includes('breed recommendation') || lowerMessage.includes('which animal')) {
                const climate = 'tropical'; // Would get from profile
                return `For ${climate} climates, I recommend these climate-adapted breeds:\n\n**Cattle:**\n- Sahiwal or Gir for dairy (heat-tolerant, 15-20L/day)\n- Boran for beef (drought-resistant, good growth)\n\n**Goats:**\n- Boer goats for meat (fast growth, disease resistant)\n- Saanen crosses for milk (heat adaptation)\n\n**Poultry:**\n- Kuroiler for dual-purpose (local adaptation)\n- KARI Improved for eggs (200+ eggs/year)\n\nThese breeds offer excellent heat tolerance, disease resistance, and good productivity. Which type interests you most?`;
            }
            
            // Feed and nutrition
            if (lowerMessage.includes('feed') || lowerMessage.includes('nutrition') || lowerMessage.includes('diet')) {
                return `**Optimal Livestock Feeding Strategy:**\n\n**Daily Feed Requirements:**\n- Dairy cow (500kg): 15-20kg dry matter\n- Goat (50kg): 2-3kg dry matter\n- Sheep (60kg): 2.5-3.5kg dry matter\n- Chicken: 120-150g feed/day\n\n**Feed Composition:**\n- 60% roughage (grass, hay, silage)\n- 30% concentrates (maize, wheat bran)\n- 10% protein supplements (fish meal, cotton cake)\n\n**Cost Optimization:**\n- Use local fodder crops\n- Make silage during abundant seasons\n- Supplement with mineral blocks\n\nWhat specific animals are you feeding?`;
            }
            
            // Health management
            if (lowerMessage.includes('health') || lowerMessage.includes('disease') || lowerMessage.includes('sick') || lowerMessage.includes('medicine')) {
                return `**Comprehensive Livestock Health Management:**\n\n**Prevention Program:**\n- Vaccination schedule (FMD, CBPP, Newcastle)\n- Deworming every 3-4 months\n- Tick control weekly\n- Clean water access daily\n\n**Disease Signs to Watch:**\n- Loss of appetite, lethargy\n- Abnormal discharge (nose, eyes)\n- Changes in milk production\n- Difficulty breathing or walking\n\n**Emergency Response:**\n- Isolate sick animals immediately\n- Contact veterinarian within 24 hours\n- Maintain health records\n\n**Nutrition for Health:**\n- Balanced minerals (calcium, phosphorus)\n- Vitamin supplements during stress\n- Quality protein for immunity\n\nAre you seeing specific health symptoms?`;
            }
            
            // Breeding management
            if (lowerMessage.includes('breeding') || lowerMessage.includes('pregnancy') || lowerMessage.includes('mating') || lowerMessage.includes('genetics')) {
                return `**Strategic Breeding Management:**\n\n**Breeding Planning:**\n- Select genetically superior males\n- Maintain breeding records\n- Plan for seasonal markets\n- Consider climate adaptation traits\n\n**Reproductive Management:**\n- Heat detection (cattle: 18-24 hrs)\n- Optimal breeding age (cattle: 15-18 months)\n- Pregnancy diagnosis at 60 days\n- Nutrition boost during pregnancy\n\n**Genetic Improvement:**\n- Artificial insemination for better genetics\n- Record keeping for performance\n- Cull poor performers\n- Focus on climate resilience\n\n**Breeding Calendar:**\n- Plan calving for favorable seasons\n- Avoid breeding during dry periods\n- Target market demand periods\n\nWhat breeding challenges are you facing?`;
            }
            
            // Market and profitability
            if (lowerMessage.includes('market') || lowerMessage.includes('price') || lowerMessage.includes('sell') || lowerMessage.includes('profit')) {
                return `**Livestock Market Intelligence:**\n\n**Current Market Trends:**\n- Live cattle: $2.50-3.00/kg\n- Goat meat: $4.00-5.00/kg\n- Fresh milk: $0.50-0.70/liter\n- Eggs: $0.15-0.20 each\n\n**Optimal Selling Strategy:**\n- Monitor seasonal price patterns\n- Target festival and holiday periods\n- Develop direct buyer relationships\n- Add value through processing\n\n**Profitability Tips:**\n- Reduce feed costs (30-40% of expenses)\n- Improve reproductive efficiency\n- Minimize mortality rates\n- Plan breeding for market peaks\n\n**Value Addition:**\n- Milk processing (yogurt, cheese)\n- Meat processing and branding\n- Hide and skin processing\n\nWhat products are you planning to market?`;
            }
            
            // Default response
            return "I'm your livestock expert ready to help with all aspects of animal husbandry! I can provide guidance on:\n\n• **Breed Selection** - Climate-adapted animals for your region\n• **Feed & Nutrition** - Cost-effective feeding strategies\n• **Health Management** - Disease prevention and treatment\n• **Breeding Programs** - Genetic improvement and planning\n• **Market Intelligence** - Pricing and selling strategies\n• **Farm Management** - Housing, handling, and welfare\n\nWhat specific livestock challenge would you like help with today?";
        }

        // Chat message management functions
        function addChatMessage(message, isUser = false) {
            const container = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `flex items-start space-x-3 ${isUser ? 'flex-row-reverse space-x-reverse' : ''}`;
            
            messageDiv.innerHTML = `
                <div class="w-8 h-8 ${isUser ? 'bg-secondary' : 'bg-primary'} rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="fas ${isUser ? 'fa-user' : 'fa-robot'} text-white text-sm"></i>
                </div>
                <div class="bg-${isUser ? 'secondary' : 'white dark:bg-gray-600'} p-3 rounded-lg max-w-sm ${isUser ? 'text-white' : 'text-gray-800 dark:text-white'} text-sm">
                    <p>${message}</p>
                </div>
            `;
            
            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
            
            conversationHistory.push({
                type: isUser ? 'user' : 'assistant',
                content: message,
                timestamp: new Date().toISOString()
            });
        }

        function showAIThinking() {
            const container = document.getElementById('chatMessages');
            const thinkingDiv = document.createElement('div');
            thinkingDiv.id = 'aiThinking';
            thinkingDiv.className = 'flex items-start space-x-3';
            
            thinkingDiv.innerHTML = `
                <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                    <i class="fas fa-robot text-white text-sm"></i>
                </div>
                <div class="bg-white dark:bg-gray-600 p-3 rounded-lg max-w-sm">
                    <div class="ai-thinking h-4 rounded"></div>
                </div>
            `;
            
            container.appendChild(thinkingDiv);
            container.scrollTop = container.scrollHeight;
        }

        function updateAIMessage(content) {
            const thinkingElement = document.getElementById('aiThinking');
            if (thinkingElement) {
                thinkingElement.innerHTML = `
                    <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                        <i class="fas fa-robot text-white text-sm"></i>
                    </div>
                    <div class="bg-white dark:bg-gray-600 p-3 rounded-lg max-w-sm text-gray-800 dark:text-white text-sm">
                        <p>${content}</p>
                    </div>
                `;
            }
        }

        function finalizeAIMessage(content) {
            const thinkingElement = document.getElementById('aiThinking');
            if (thinkingElement) {
                thinkingElement.remove();
            }
            addChatMessage(content, false);
        }

        function showAIError() {
            const thinkingElement = document.getElementById('aiThinking');
            if (thinkingElement) {
                thinkingElement.remove();
            }
            addChatMessage("I apologize, but I'm having trouble responding right now. Please try asking your livestock question again, or contact our veterinary support team for urgent matters.", false);
        }

        // Load livestock recommendations
        function loadLivestockRecommendations() {
            const container = document.getElementById('livestockRecommendations');
            const recommendedAnimals = livestockDatabase.slice(0, 4);
            
            container.innerHTML = '';
            
            recommendedAnimals.forEach(animal => {
                const animalCard = createLivestockRecommendationCard(animal);
                container.appendChild(animalCard);
            });
        }

        // Create livestock recommendation card
        function createLivestockRecommendationCard(animal) {
            const card = document.createElement('div');
            card.className = 'livestock-card bg-white dark:bg-gray-700 p-6 rounded-xl shadow-lg cursor-pointer';
            
            const matchPercentage = calculateLivestockMatch(animal);
            
            card.innerHTML = `
                <div class="flex items-center justify-between mb-4">
                    <div class="text-3xl">${animal.icon}</div>
                    <div class="text-right">
                        <div class="text-lg font-bold text-primary">${matchPercentage}%</div>
                        <div class="text-xs text-gray-500 dark:text-gray-400">climate match</div>
                    </div>
                </div>
                <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-2">${animal.name}</h3>
                <div class="space-y-2 text-sm text-gray-600 dark:text-gray-300 mb-4">
                    <div><i class="fas fa-thermometer-half text-primary mr-2"></i>Climate: ${animal.climateAdaptation}</div>
                    <div><i class="fas fa-calendar text-primary mr-2"></i>Maturity: ${animal.maturityAge}</div>
                    <div><i class="fas fa-dollar-sign text-primary mr-2"></i>Cost: ${animal.initialCost}</div>
                    ${animal.milkProduction !== 'N/A' ? `<div><i class="fas fa-tint text-primary mr-2"></i>Production: ${animal.milkProduction}</div>` : ''}
                </div>
                <button class="w-full bg-primary text-white py-2 rounded-lg hover:bg-secondary transition-colors">
                    Get Management Guide
                </button>
            `;
            
            card.addEventListener('click', () => showLivestockDetails(animal));
            
            return card;
        }

        // Calculate livestock match percentage
        function calculateLivestockMatch(animal) {
            let match = 75; // Base match
            
            // Adjust based on livestock type
            if (livestockProfile.primaryLivestock && animal.category === livestockProfile.primaryLivestock) {
                match += 15;
            }
            
            // Adjust based on management system
            if (livestockProfile.farmingSystem === animal.managementLevel) {
                match += 10;
            }
            
            // Climate adaptation bonus
            if (animal.climateAdaptation === 'Very High' || animal.climateAdaptation === 'High') {
                match += 5;
            }
            
            return Math.min(match, 98);
        }

        // Show detailed livestock information
        function showLivestockDetails(animal) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-full overflow-auto">
                    <div class="flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700">
                        <h2 class="text-2xl font-bold text-gray-800 dark:text-white">${animal.icon} ${animal.name}</h2>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    <div class="p-6">
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <h3 class="font-semibold text-gray-800 dark:text-white mb-3">Management Information</h3>
                                <div class="space-y-2 text-sm">
                                    <div><strong>Category:</strong> ${animal.category}</div>
                                    <div><strong>Type:</strong> ${animal.type}</div>
                                    <div><strong>Climate Adaptation:</strong> ${animal.climateAdaptation}</div>
                                    <div><strong>Management Level:</strong> ${animal.managementLevel}</div>
                                    <div><strong>Feed Requirement:</strong> ${animal.feedRequirement}</div>
                                    <div><strong>Maturity Age:</strong> ${animal.maturityAge}</div>
                                </div>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-800 dark:text-white mb-3">Production & Economics</h3>
                                <div class="space-y-2 text-sm">
                                    <div><strong>Initial Cost:</strong> ${animal.initialCost}</div>
                                    ${animal.milkProduction !== 'N/A' ? `<div><strong>Production:</strong> ${animal.milkProduction}</div>` : ''}
                                    <div><strong>ROI Timeline:</strong> 12-18 months</div>
                                    <div><strong>Market Demand:</strong> High</div>
                                </div>
                            </div>
                        </div>
                        <div class="mb-6">
                            <h3 class="font-semibold text-gray-800 dark:text-white mb-3">Description</h3>
                            <p class="text-gray-600 dark:text-gray-300">${animal.description}</p>
                        </div>
                        <div class="flex space-x-3">
                            <button onclick="askAIAboutLivestock('${animal.name}')" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-secondary transition-colors">
                                Ask AI About This Breed
                            </button>
                            <button class="bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 px-6 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors">
                                Add to Farm Plan
                            </button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Ask AI about specific livestock
        function askAIAboutLivestock(animalName) {
            const question = `Tell me everything about raising ${animalName}. What are the best management practices, feeding requirements, health considerations, and profitability expectations?`;
            document.getElementById('chatInput').value = question;
            sendToAI(question);
            
            // Close modal
            const modal = document.querySelector('.fixed.inset-0');
            if (modal) modal.remove();
            
            // Scroll to chat
            document.getElementById('chatContainer').scrollIntoView({ behavior: 'smooth' });
        }

        // Populate livestock database
        function populateLivestockDatabase() {
            const container = document.getElementById('livestockDatabase');
            
            livestockDatabase.forEach(animal => {
                const animalCard = document.createElement('div');
                animalCard.className = 'livestock-card bg-white dark:bg-gray-700 p-4 rounded-xl shadow-lg cursor-pointer';
                animalCard.dataset.category = animal.category;
                animalCard.dataset.name = animal.name.toLowerCase();
                
                animalCard.innerHTML = `
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2">${animal.icon}</div>
                        <h3 class="font-bold text-gray-800 dark:text-white">${animal.name}</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 capitalize">${animal.category} - ${animal.type}</p>
                    </div>
                    <div class="space-y-1 text-xs text-gray-600 dark:text-gray-300">
                        <div><strong>Climate:</strong> ${animal.climateAdaptation}</div>
                        <div><strong>Maturity:</strong> ${animal.maturityAge}</div>
                        <div><strong>Cost:</strong> ${animal.initialCost}</div>
                    </div>
                `;
                
                animalCard.addEventListener('click', () => showLivestockDetails(animal));
                container.appendChild(animalCard);
            });
        }

        // Generate management calendar
        function generateManagementCalendar() {
            const container = document.getElementById('managementCalendar');
            const activities = [
                { month: 'January', activity: 'Vaccination & Health Checks', priority: 'high', icon: 'fa-syringe' },
                { month: 'February', activity: 'Breeding Program Planning', priority: 'medium', icon: 'fa-heart' },
                { month: 'March', activity: 'Feed Stock Assessment', priority: 'high', icon: 'fa-wheat-awn' },
                { month: 'April', activity: 'Pasture Management', priority: 'medium', icon: 'fa-leaf' },
                { month: 'May', activity: 'Deworming Schedule', priority: 'high', icon: 'fa-pills' },
                { month: 'June', activity: 'Dry Season Preparation', priority: 'high', icon: 'fa-sun' },
                { month: 'July', activity: 'Mid-year Health Review', priority: 'medium', icon: 'fa-stethoscope' },
                { month: 'August', activity: 'Feed Preservation', priority: 'high', icon: 'fa-warehouse' },
                { month: 'September', activity: 'Breeding Season Start', priority: 'high', icon: 'fa-calendar-plus' },
                { month: 'October', activity: 'Market Planning', priority: 'medium', icon: 'fa-chart-line' },
                { month: 'November', activity: 'Housing Maintenance', priority: 'medium', icon: 'fa-home' },
                { month: 'December', activity: 'Year-end Assessment', priority: 'high', icon: 'fa-clipboard-check' }
            ];
            
            const currentMonth = new Date().getMonth();
            
            activities.forEach((activity, index) => {
                const activityCard = document.createElement('div');
                activityCard.className = `p-4 rounded-lg border-2 ${
                    index === currentMonth ? 
                    'border-primary bg-primary/10' : 
                    'border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700'
                }`;
                
                activityCard.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="font-semibold text-gray-800 dark:text-white">${activity.month}</h4>
                        <i class="fas ${activity.icon} ${
                            activity.priority === 'high' ? 'text-red-500' : 
                            activity.priority === 'medium' ? 'text-yellow-500' : 'text-green-500'
                        }"></i>
                    </div>
                    <div class="text-sm text-gray-600 dark:text-gray-300">${activity.activity}</div>
                    ${index === currentMonth ? '<div class="text-xs text-primary font-medium mt-1">This Month</div>' : ''}
                `;
                
                container.appendChild(activityCard);
            });
        }

        // Generate charts
        function generateCharts() {
            generateProductionChart();
            generateFeedEfficiencyChart();
        }

        // Generate production trends chart
        function generateProductionChart() {
            const ctx = document.getElementById('productionChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'Milk Production (L/day)',
                        data: [180, 195, 210, 225, 215, 190, 175, 165, 185, 200, 220, 230],
                        borderColor: '#22c55e',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Egg Production (eggs/day)',
                        data: [85, 90, 95, 98, 92, 88, 82, 78, 85, 92, 98, 102],
                        borderColor: '#f59e0b',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(156, 163, 175, 0.3)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // Generate feed efficiency chart
        function generateFeedEfficiencyChart() {
            const ctx = document.getElementById('feedEfficiencyChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Cattle', 'Goats', 'Sheep', 'Poultry', 'Pigs'],
                    datasets: [{
                        label: 'Feed Conversion Ratio',
                        data: [8.5, 4.2, 5.1, 2.1, 3.2],
                        backgroundColor: [
                            '#3b82f6',
                            '#10b981',
                            '#f59e0b',
                            '#ef4444',
                            '#8b5cf6'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(156, 163, 175, 0.3)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            // Mobile menu
            document.getElementById('mobileMenuButton').addEventListener('click', function() {
                document.getElementById('mobileMenu').classList.add('active');
            });

            document.getElementById('closeMobileMenu').addEventListener('click', function() {
                document.getElementById('mobileMenu').classList.remove('active');
            });

            // Mobile dropdown functionality
            document.querySelectorAll('.mobile-dropdown-toggle').forEach(button => {
                button.addEventListener('click', function() {
                    const content = this.nextElementSibling;
                    content.classList.toggle('hidden');
                    const icon = this.querySelector('i');
                    icon.classList.toggle('fa-chevron-down');
                    icon.classList.toggle('fa-chevron-up');
                });
            });
            
            // Profile updates
            document.getElementById('updateLivestockProfile').addEventListener('click', updateLivestockProfile);
            
            // Chat functionality
            document.getElementById('sendMessage').addEventListener('click', handleChatMessage);
            document.getElementById('chatInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handleChatMessage();
                }
            });
            
            // Quick questions
            document.querySelectorAll('.quick-question').forEach(button => {
                button.addEventListener('click', function() {
                    const question = this.textContent;
                    document.getElementById('chatInput').value = question;
                    sendToAI(question);
                });
            });
            
            // Database filters
            document.getElementById('animalCategory').addEventListener('change', filterLivestock);
            document.getElementById('breedSearch').addEventListener('input', filterLivestock);
            
            // Tools
            document.getElementById('feedCalculator').addEventListener('click', () => showTool('feed'));
            document.getElementById('healthMonitor').addEventListener('click', () => showTool('health'));
            document.getElementById('breedingPlanner').addEventListener('click', () => showTool('breeding'));
            document.getElementById('marketPrices').addEventListener('click', () => showTool('market'));
            
            // Floating widgets
            document.getElementById('quickHealthCheck').addEventListener('click', () => {
                sendToAI("I need help with animal health monitoring. What should I check for today?");
            });
            
            document.getElementById('quickFeedAdvice').addEventListener('click', () => {
                sendToAI("Can you help me optimize my livestock feeding program?");
            });
        }

        // Update livestock profile
        function updateLivestockProfile() {
            livestockProfile = {
                primaryLivestock: document.getElementById('primaryLivestock').value,
                herdSize: document.getElementById('herdSize').value,
                farmingSystem: document.getElementById('farmingSystem').value,
                experience: document.getElementById('livestockExperience').value
            };
            
            loadLivestockRecommendations();
            
            const profileMessage = `I've updated my livestock profile: Primary Livestock: ${livestockProfile.primaryLivestock}, Herd Size: ${livestockProfile.herdSize}, Farming System: ${livestockProfile.farmingSystem}, Experience: ${livestockProfile.experience}. Please provide personalized livestock management recommendations.`;
            sendToAI(profileMessage);
            
            showNotification('Livestock profile updated! Getting personalized recommendations...', 'success');
        }

        // Handle chat message sending
        function handleChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message && !isAIResponding) {
                sendToAI(message);
                input.value = '';
            }
        }

        // Filter livestock in database
        function filterLivestock() {
            const category = document.getElementById('animalCategory').value;
            const search = document.getElementById('breedSearch').value.toLowerCase();
            const cards = document.querySelectorAll('#livestockDatabase .livestock-card');
            
            cards.forEach(card => {
                const cardCategory = card.dataset.category;
                const cardName = card.dataset.name;
                
                const categoryMatch = !category || cardCategory === category;
                const searchMatch = !search || cardName.includes(search);
                
                if (categoryMatch && searchMatch) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Show tools
        function showTool(toolType) {
            let toolContent = '';
            
            switch(toolType) {
                case 'feed':
                    toolContent = `
                        <div class="space-y-4">
                            <h3 class="text-lg font-bold text-gray-800 dark:text-white">Feed Calculator</h3>
                            <div class="grid md:grid-cols-2 gap-4">
                                <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white">
                                    <option>Select animal type</option>
                                    <option>Dairy Cow</option>
                                    <option>Beef Cattle</option>
                                    <option>Goats</option>
                                    <option>Sheep</option>
                                    <option>Poultry</option>
                                </select>
                                <input type="number" placeholder="Number of animals" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white">
                            </div>
                            <input type="number" placeholder="Average weight (kg)" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white">
                            <button class="w-full bg-primary text-white py-2 rounded hover:bg-secondary transition-colors">
                                Calculate Feed Requirements
                            </button>
                        </div>
                    `;
                    break;
                    
                case 'health':
                    toolContent = `
                        <div class="space-y-4">
                            <h3 class="text-lg font-bold text-gray-800 dark:text-white">Health Monitor</h3>
                            <p class="text-gray-600 dark:text-gray-300">Track animal health symptoms and get AI diagnosis.</p>
                            <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white">
                                <option>Select symptoms</option>
                                <option>Loss of appetite</option>
                                <option>Fever/hot body</option>
                                <option>Difficulty breathing</option>
                                <option>Abnormal discharge</option>
                                <option>Lameness/limping</option>
                            </select>
                            <textarea class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white" rows="3" placeholder="Describe additional symptoms or behaviors..."></textarea>
                            <button class="w-full bg-primary text-white py-2 rounded hover:bg-secondary transition-colors">
                                Get Health Assessment
                            </button>
                        </div>
                    `;
                    break;
                    
                case 'breeding':
                    toolContent = `
                        <div class="space-y-4">
                            <h3 class="text-lg font-bold text-gray-800 dark:text-white">Breeding Planner</h3>
                            <p class="text-gray-600 dark:text-gray-300">Plan optimal breeding schedules and genetic improvements.</p>
                            <div class="grid md:grid-cols-2 gap-4">
                                <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white">
                                    <option>Animal type</option>
                                    <option>Cattle</option>
                                    <option>Goats</option>
                                    <option>Sheep</option>
                                </select>
                                <input type="number" placeholder="Number of females" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white">
                            </div>
                            <input type="date" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:border-primary dark:bg-gray-700 dark:text-white">
                            <button class="w-full bg-primary text-white py-2 rounded hover:bg-secondary transition-colors">
                                Create Breeding Schedule
                            </button>
                        </div>
                    `;
                    break;
                    
                case 'market':
                    toolContent = `
                        <div class="space-y-4">
                            <h3 class="text-lg font-bold text-gray-800 dark:text-white">Current Market Prices</h3>
                            <div class="space-y-2">
                                <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded">
                                    <span>Live Cattle (per kg)</span>
                                    <span class="font-semibold text-green-600">$2.80 ↗</span>
                                </div>
                                <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded">
                                    <span>Goat Meat (per kg)</span>
                                    <span class="font-semibold text-green-600">$4.50 ↗</span>
                                </div>
                                <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded">
                                    <span>Fresh Milk (per liter)</span>
                                    <span class="font-semibold text-red-600">$0.60 ↘</span>
                                </div>
                                <div class="flex justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded">
                                    <span>Chicken Eggs (per tray)</span>
                                    <span class="font-semibold text-green-600">$4.20 ↗</span>
                                </div>
                            </div>
                            <button class="w-full bg-primary text-white py-2 rounded hover:bg-secondary transition-colors">
                                Get Detailed Market Analysis
                            </button>
                        </div>
                    `;
                    break;
            }
            
            showModal('Livestock Management Tool', toolContent);
        }

        // Show modal dialog
        function showModal(title, content) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 rounded-lg max-w-md w-full">
                    <div class="flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700">
                        <h2 class="text-xl font-bold text-gray-800 dark:text-white">${title}</h2>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="p-6">
                        ${content}
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${
                type === 'success' ? 'bg-green-500 text-white' :
                type === 'error' ? 'bg-red-500 text-white' :
                'bg-blue-500 text-white'
            }`;
            notification.innerHTML = `
                <div class="flex items-center space-x-2">
                    <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'exclamation-triangle' : 'info'}-circle"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }

        // Global function for modal access
        window.askAIAboutLivestock = askAIAboutLivestock;
    </script>
</body>
</html>